import java.io.*;
import java.util.*;

public class TemperaturiApp {

    public static void main(String[] args) {
        File fisier = new File("temperaturi.txt");

        if (!fisier.exists()) {
            System.out.println("Fisierul temperaturi.txt nu exista!");
            return;
        }

        List<Double> tempNegative = new ArrayList<>();
        double suma = 0;
        double min = Double.MAX_VALUE;
        double max = Double.MIN_VALUE;
        int count = 0;
        int subZero = 0;

        try (BufferedReader br = new BufferedReader(new FileReader(fisier))) {
            String linie;
            while ((linie = br.readLine()) != null) {
                double t = Double.parseDouble(linie);
                suma += t;
                count++;

                min = Math.min(min, t);
                max = Math.max(max, t);

                if (t < 0) {
                    subZero++;
                    tempNegative.add(t);
                }
            }
        } catch (IOException | NumberFormatException e) {
            System.out.println("Eroare la citire!");
            return;
        }

        double medie = suma / count;

        
        try (BufferedWriter bw = new BufferedWriter(new FileWriter("raport_temperaturi.txt"))) {
            bw.write("Temperatura medie: " + medie);
            bw.newLine();
            bw.write("Temperatura minima: " + min);
            bw.newLine();
            bw.write("Temperatura maxima: " + max);
            bw.newLine();
            bw.write("Numar temperaturi sub 0Â°C: " + subZero);
        } catch (IOException e) {
            System.out.println("Eroare la scriere raport_temperaturi.txt");
        }

       
        try (BufferedWriter bw = new BufferedWriter(new FileWriter("temp_sub_zero.txt"))) {
            for (double t : tempNegative) {
                bw.write(String.valueOf(t));
                bw.newLine();
            }
        } catch (IOException e) {
            System.out.println("Eroare la scriere temp_sub_zero.txt");
        }

        System.out.println("Problema 2 rezolvata cu succes.");
    }
}
